[2024-11-06 10:22:28,001] kopf._cogs.clients.w [DEBUG   ] Starting the watch-stream for fluidosdeployments.v1.fluidos.eu cluster-wide.
[2024-11-06 10:22:28,105] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Resuming is in progress: {'apiVersion': 'fluidos.eu/v1', 'kind': 'FLUIDOSDeployment', 'metadata': {'annotations': {'kopf.zalando.org/last-handled-configuration': '{"spec":{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"fluidos-intent-mspl":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"yes\\"?><ITResourceOrchestration xmlns=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" id=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\" xsi:schemaLocation=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd\\"><ITResource id=\\"mspl_9e9dbbdfad5d4ef588fc5ec579f83c59\\" orchestrationID=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\"><configuration xsi:type=\\"RuleSetConfiguration\\"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type=\\"FirewallRuleAction\\"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type=\\"FirewallConfigurationCondition\\"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type=\\"Priority\\"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>","fluidos-intent-throughput":"100ms"},"name":"mspl-intent"},"spec":{"containers":[{"image":"nginx:1.14.2","name":"nginx","ports":[{"containerPort":80}]}]}}}\n', 'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"fluidos.eu/v1","kind":"FLUIDOSDeployment","metadata":{"annotations":{},"name":"mspl-intent","namespace":"fluidos"},"spec":{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"fluidos-intent-mspl":"\\u003c?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"yes\\"?\\u003e\\u003cITResourceOrchestration xmlns=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" id=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\" xsi:schemaLocation=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd\\"\\u003e\\u003cITResource id=\\"mspl_9e9dbbdfad5d4ef588fc5ec579f83c59\\" orchestrationID=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\"\\u003e\\u003cconfiguration xsi:type=\\"RuleSetConfiguration\\"\\u003e\\u003ccapability\\u003e\\u003cName\\u003eFirewall\\u003c/Name\\u003e\\u003c/capability\\u003e\\u003cconfigurationRule\\u003e\\u003cconfigurationRuleAction xsi:type=\\"FirewallRuleAction\\"\\u003e\\u003cfirewallActionType\\u003eDROP\\u003c/firewallActionType\\u003e\\u003c/configurationRuleAction\\u003e\\u003cconfigurationCondition xsi:type=\\"FirewallConfigurationCondition\\"\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003cruleParameters\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003cdestinationAddress\\u003e0.0.0.0/0\\u003c/destinationAddress\\u003e\\u003caction\\u003edrop\\u003c/action\\u003e\\u003csourceAddress\\u003e192.168.0.1\\u003c/sourceAddress\\u003e\\u003cname\\u003eejemplo2\\u003c/name\\u003e\\u003c/ruleParameters\\u003e\\u003c/configurationCondition\\u003e\\u003cexternalData xsi:type=\\"Priority\\"\\u003e\\u003cvalue\\u003e60000\\u003c/value\\u003e\\u003c/externalData\\u003e\\u003cName\\u003eRule0\\u003c/Name\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003c/configurationRule\\u003e\\u003cName\\u003eConf0\\u003c/Name\\u003e\\u003c/configuration\\u003e\\u003cenablerCandidates\\u003e\\u003cenabler\\u003efirewall\\u003c/enabler\\u003e\\u003c/enablerCandidates\\u003e\\u003c/ITResource\\u003e\\u003c/ITResourceOrchestration\\u003e","fluidos-intent-throughput":"100ms"},"name":"mspl-intent"},"spec":{"containers":[{"image":"nginx:1.14.2","name":"nginx","ports":[{"containerPort":80}]}]}}}\n'}, 'creationTimestamp': '2024-11-06T10:17:52Z', 'generation': 1, 'managedFields': [{'apiVersion': 'fluidos.eu/v1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'f:kopf.zalando.org/last-handled-configuration': {}}}}, 'manager': 'kopf', 'operation': 'Update', 'time': '2024-11-06T10:17:52Z'}, {'apiVersion': 'fluidos.eu/v1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'.': {}, 'f:creation_handler': {'.': {}, 'f:msg': {}, 'f:status': {}}}}, 'manager': 'kopf', 'operation': 'Update', 'subresource': 'status', 'time': '2024-11-06T10:17:52Z'}, {'apiVersion': 'fluidos.eu/v1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:apiVersion': {}, 'f:kind': {}, 'f:metadata': {'.': {}, 'f:annotations': {'.': {}, 'f:fluidos-intent-mspl': {}, 'f:fluidos-intent-throughput': {}}, 'f:name': {}}, 'f:spec': {'.': {}, 'f:containers': {}}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2024-11-06T10:17:52Z'}], 'name': 'mspl-intent', 'namespace': 'fluidos', 'resourceVersion': '65497', 'uid': '43bfd01c-44de-40c4-b096-de60812e102b'}, 'spec': {'apiVersion': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'fluidos-intent-mspl': '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ITResourceOrchestration xmlns="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="omspl_5b0fd7359a5e40fe92399710c1152ed9" xsi:schemaLocation="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd"><ITResource id="mspl_9e9dbbdfad5d4ef588fc5ec579f83c59" orchestrationID="omspl_5b0fd7359a5e40fe92399710c1152ed9"><configuration xsi:type="RuleSetConfiguration"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type="FirewallRuleAction"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type="FirewallConfigurationCondition"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type="Priority"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>', 'fluidos-intent-throughput': '100ms'}, 'name': 'mspl-intent'}, 'spec': {'containers': [{'image': 'nginx:1.14.2', 'name': 'nginx', 'ports': [{'containerPort': 80}]}]}}, 'status': {'creation_handler': {'msg': 'Unable to find resource matching requirement', 'status': 'Failure'}}}
[2024-11-06 10:22:28,105] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Handling cycle is finished, waiting for new changes.
[2024-11-06 10:24:59,497] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Deleted, really deleted, and we are notified.
[2024-11-06 10:25:03,589] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Creation is in progress: {'apiVersion': 'fluidos.eu/v1', 'kind': 'FLUIDOSDeployment', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"fluidos.eu/v1","kind":"FLUIDOSDeployment","metadata":{"annotations":{},"name":"mspl-intent","namespace":"fluidos"},"spec":{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"fluidos-intent-mspl":"\\u003c?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"yes\\"?\\u003e\\u003cITResourceOrchestration xmlns=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" id=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\" xsi:schemaLocation=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd\\"\\u003e\\u003cITResource id=\\"mspl_9e9dbbdfad5d4ef588fc5ec579f83c59\\" orchestrationID=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\"\\u003e\\u003cconfiguration xsi:type=\\"RuleSetConfiguration\\"\\u003e\\u003ccapability\\u003e\\u003cName\\u003eFirewall\\u003c/Name\\u003e\\u003c/capability\\u003e\\u003cconfigurationRule\\u003e\\u003cconfigurationRuleAction xsi:type=\\"FirewallRuleAction\\"\\u003e\\u003cfirewallActionType\\u003eDROP\\u003c/firewallActionType\\u003e\\u003c/configurationRuleAction\\u003e\\u003cconfigurationCondition xsi:type=\\"FirewallConfigurationCondition\\"\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003cruleParameters\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003cdestinationAddress\\u003e0.0.0.0/0\\u003c/destinationAddress\\u003e\\u003caction\\u003edrop\\u003c/action\\u003e\\u003csourceAddress\\u003e192.168.0.1\\u003c/sourceAddress\\u003e\\u003cname\\u003eejemplo2\\u003c/name\\u003e\\u003c/ruleParameters\\u003e\\u003c/configurationCondition\\u003e\\u003cexternalData xsi:type=\\"Priority\\"\\u003e\\u003cvalue\\u003e60000\\u003c/value\\u003e\\u003c/externalData\\u003e\\u003cName\\u003eRule0\\u003c/Name\\u003e\\u003cisCNF\\u003efalse\\u003c/isCNF\\u003e\\u003c/configurationRule\\u003e\\u003cName\\u003eConf0\\u003c/Name\\u003e\\u003c/configuration\\u003e\\u003cenablerCandidates\\u003e\\u003cenabler\\u003efirewall\\u003c/enabler\\u003e\\u003c/enablerCandidates\\u003e\\u003c/ITResource\\u003e\\u003c/ITResourceOrchestration\\u003e","fluidos-intent-throughput":"100ms"},"name":"mspl-intent"},"spec":{"containers":[{"image":"nginx:1.14.2","name":"nginx","ports":[{"containerPort":80}]}]}}}\n'}, 'creationTimestamp': '2024-11-06T10:25:03Z', 'generation': 1, 'managedFields': [{'apiVersion': 'fluidos.eu/v1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:apiVersion': {}, 'f:kind': {}, 'f:metadata': {'.': {}, 'f:annotations': {'.': {}, 'f:fluidos-intent-mspl': {}, 'f:fluidos-intent-throughput': {}}, 'f:name': {}}, 'f:spec': {'.': {}, 'f:containers': {}}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2024-11-06T10:25:03Z'}], 'name': 'mspl-intent', 'namespace': 'fluidos', 'resourceVersion': '66206', 'uid': '9173773b-2d45-48f5-b6bd-b69742d3f833'}, 'spec': {'apiVersion': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'fluidos-intent-mspl': '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ITResourceOrchestration xmlns="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="omspl_5b0fd7359a5e40fe92399710c1152ed9" xsi:schemaLocation="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd"><ITResource id="mspl_9e9dbbdfad5d4ef588fc5ec579f83c59" orchestrationID="omspl_5b0fd7359a5e40fe92399710c1152ed9"><configuration xsi:type="RuleSetConfiguration"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type="FirewallRuleAction"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type="FirewallConfigurationCondition"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type="Priority"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>', 'fluidos-intent-throughput': '100ms'}, 'name': 'mspl-intent'}, 'spec': {'containers': [{'image': 'nginx:1.14.2', 'name': 'nginx', 'ports': [{'containerPort': 80}]}]}}}
[2024-11-06 10:25:03,589] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Handler 'creation_handler' is invoked.
[2024-11-06 10:25:03,589] kopf.objects         [INFO    ] [fluidos/mspl-intent] Processing incoming request
[2024-11-06 10:25:03,589] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Received request: {'apiVersion': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'fluidos-intent-mspl': '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ITResourceOrchestration xmlns="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="omspl_5b0fd7359a5e40fe92399710c1152ed9" xsi:schemaLocation="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd"><ITResource id="mspl_9e9dbbdfad5d4ef588fc5ec579f83c59" orchestrationID="omspl_5b0fd7359a5e40fe92399710c1152ed9"><configuration xsi:type="RuleSetConfiguration"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type="FirewallRuleAction"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type="FirewallConfigurationCondition"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type="Priority"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>', 'fluidos-intent-throughput': '100ms'}, 'name': 'mspl-intent'}, 'spec': {'containers': [{'image': 'nginx:1.14.2', 'name': 'nginx', 'ports': [{'containerPort': 80}]}]}}
[2024-11-06 10:25:03,589] fluidos_model_orches [INFO    ] Converting incoming custom resource to model request
[2024-11-06 10:25:03,589] fluidos_model_orches [DEBUG   ] Processing Pod object
[2024-11-06 10:25:03,590] fluidos_model_orches [DEBUG   ] Extracting intents from annotations
[2024-11-06 10:25:03,590] fluidos_model_orches [DEBUG   ] Extracted 2 intents from the annotations
[2024-11-06 10:25:03,590] fluidos_model_orches [DEBUG   ] Extracting resources intents from request
[2024-11-06 10:25:03,590] docker.utils.config  [DEBUG   ] Trying paths: ['/Users/diego/.docker/config.json', '/Users/diego/.dockercfg']
[2024-11-06 10:25:03,590] docker.utils.config  [DEBUG   ] Found file at path: /Users/diego/.docker/config.json
[2024-11-06 10:25:03,590] docker.auth          [DEBUG   ] Found 'credsStore' section
[2024-11-06 10:25:03,594] fluidos_model_orches [INFO    ] Retrieving model interface for ModelPredictRequest(id='mspl-intent', namespace='fluidos', pod_request={'pod_manifest': {'apiVersion': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'fluidos-intent-mspl': '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ITResourceOrchestration xmlns="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="omspl_5b0fd7359a5e40fe92399710c1152ed9" xsi:schemaLocation="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd"><ITResource id="mspl_9e9dbbdfad5d4ef588fc5ec579f83c59" orchestrationID="omspl_5b0fd7359a5e40fe92399710c1152ed9"><configuration xsi:type="RuleSetConfiguration"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type="FirewallRuleAction"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type="FirewallConfigurationCondition"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type="Priority"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>', 'fluidos-intent-throughput': '100ms'}, 'name': 'mspl-intent'}, 'spec': {'containers': [{'image': 'nginx:1.14.2', 'name': 'nginx', 'ports': [{'containerPort': 80}]}]}}}, container_image_embeddings=[ContainerImageEmbedding(image='nginx:1.14.2', embedding=None)], intents=[Intent(name=<KnownIntent.mspl: 'mspl'>, value='<?xml version="1.0" encoding="utf-8" standalone="yes"?><itresourceorchestration xmlns="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/itresource.xsd" xmlns:xsi="http://www.w3.org/2001/xmlschema-instance" id="omspl_5b0fd7359a5e40fe92399710c1152ed9" xsi:schemalocation="http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/itresource.xsd mspl.xsd"><itresource id="mspl_9e9dbbdfad5d4ef588fc5ec579f83c59" orchestrationid="omspl_5b0fd7359a5e40fe92399710c1152ed9"><configuration xsi:type="rulesetconfiguration"><capability><name>firewall</name></capability><configurationrule><configurationruleaction xsi:type="firewallruleaction"><firewallactiontype>drop</firewallactiontype></configurationruleaction><configurationcondition xsi:type="firewallconfigurationcondition"><iscnf>false</iscnf><ruleparameters><iscnf>false</iscnf><destinationaddress>0.0.0.0/0</destinationaddress><action>drop</action><sourceaddress>192.168.0.1</sourceaddress><name>ejemplo2</name></ruleparameters></configurationcondition><externaldata xsi:type="priority"><value>60000</value></externaldata><name>rule0</name><iscnf>false</iscnf></configurationrule><name>conf0</name></configuration><enablercandidates><enabler>firewall</enabler></enablercandidates></itresource></itresourceorchestration>'), Intent(name=<KnownIntent.throughput: 'throughput'>, value='100ms')])
[2024-11-06 10:25:03,594] fluidos_model_orches [DEBUG   ] No matching models, returning what? Dummy? or CG as default?
[2024-11-06 10:25:04,882] sentence_transformer [INFO    ] Load pretrained SentenceTransformer: distiluse-base-multilingual-cased-v2
[2024-11-06 10:25:05,576] sentence_transformer [INFO    ] Use pytorch device: cpu
[2024-11-06 10:25:05,576] fluidos_model_orches [INFO    ] METADATA LOADED: True
[2024-11-06 10:25:05,583] fluidos_model_orches [INFO    ] Pod embedding generation
Batches: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  4.21it/s]
[2024-11-06 10:25:05,841] fluidos_model_orches [INFO    ] /Users/diego/git/fluidos-modelbased-metaorchestrator/tests/model/feedback/feedback.csv
[2024-11-06 10:25:05,849] fluidos_model_orches [INFO    ] model input feature vector
[2024-11-06 10:25:05,856] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Predicted resources for mspl-intent: ModelPredictResponse(id='mspl-intent', resource_profile=Resource(id='mspl-intent', cpu='1m', memory='1Mi', architecture='arm64', gpu=None, storage=None, region='Dublin', pods=None), delay=0)
[2024-11-06 10:25:05,856] fluidos_model_orches [INFO    ] REARResourceFinder being returned
[2024-11-06 10:25:05,856] fluidos_model_orches [INFO    ] Retrieving resource best match with REAR
[2024-11-06 10:25:05,856] fluidos_model_orches [INFO    ] Retrieving locally available flavours for resource=Resource(id='mspl-intent', cpu='1m', memory='1Mi', architecture='arm64', gpu=None, storage=None, region='Dublin', pods=None)
[2024-11-06 10:25:05,867] kubernetes.client.re [DEBUG   ] response body: {"apiVersion":"nodecore.fluidos.eu/v1alpha1","items":[],"kind":"FlavorList","metadata":{"continue":"","resourceVersion":"66209"}}

[2024-11-06 10:25:05,868] fluidos_model_orches [INFO    ] No local resource compatible
[2024-11-06 10:25:05,868] fluidos_model_orches [INFO    ] Retrieving remote flavours in namespace='fluidos'
[2024-11-06 10:25:05,868] fluidos_model_orches [INFO    ] Initiating remote search
[2024-11-06 10:25:05,868] fluidos_model_orches [DEBUG   ] Solver body: {'apiVersion': 'nodecore.fluidos.eu/v1alpha1', 'kind': 'Solver', 'metadata': {'name': 'mspl-intent-solver'}, 'spec': {'intentID': 'mspl-intent', 'findCandidate': True, 'reserveAndBuy': False, 'enstablishPeering': False, 'selector': {'flavorType': 'K8Slice', 'filters': {'architectureFilter': {'name': 'Match', 'data': {'value': 'arm64'}}, 'cpuFilter': {'name': 'Range', 'data': {'min': '1m'}}, 'memoryFilter': {'name': 'Range', 'data': {'min': '1Mi'}}}}}}
[2024-11-06 10:25:05,870] kubernetes.client.re [DEBUG   ] response body: {"apiVersion":"nodecore.fluidos.eu/v1alpha1","kind":"Solver","metadata":{"creationTimestamp":"2024-11-05T12:55:46Z","generation":1,"managedFields":[{"apiVersion":"nodecore.fluidos.eu/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{".":{},"f:findCandidate":{},"f:intentID":{},"f:reserveAndBuy":{},"f:selector":{".":{},"f:filters":{".":{},"f:architectureFilter":{".":{},"f:data":{".":{},"f:value":{}},"f:name":{}},"f:cpuFilter":{".":{},"f:data":{".":{},"f:min":{}},"f:name":{}},"f:memoryFilter":{".":{},"f:data":{".":{},"f:min":{}},"f:name":{}}},"f:flavorType":{}}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2024-11-05T12:55:46Z"},{"apiVersion":"nodecore.fluidos.eu/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:allocation":{},"f:contract":{},"f:credentials":{".":{},"f:clusterID":{},"f:clusterName":{},"f:endpoint":{},"f:token":{}},"f:findCandidate":{},"f:solverPhase":{".":{},"f:endTime":{},"f:lastChangeTime":{},"f:message":{},"f:phase":{}}}},"manager":"rear-manager","operation":"Update","subresource":"status","time":"2024-11-05T12:58:30Z"}],"name":"mspl-intent-solver","namespace":"fluidos","resourceVersion":"30911","uid":"f51e502d-582d-439d-9a42-1d2f3f6b80da"},"spec":{"findCandidate":true,"intentID":"mspl-intent","reserveAndBuy":false,"selector":{"filters":{"architectureFilter":{"data":{"value":"arm64"},"name":"Match"},"cpuFilter":{"data":{"min":"1m"},"name":"Range"},"memoryFilter":{"data":{"min":"1Mi"},"name":"Range"}},"flavorType":"K8Slice"}},"status":{"allocation":{},"contract":{},"credentials":{"clusterID":"","clusterName":"","endpoint":"","token":""},"findCandidate":"Running","solverPhase":{"endTime":"2024-11-05T12:58:30Z","lastChangeTime":"2024-11-05T12:58:30Z","message":"Solver has expired before finding a candidate","phase":"Timed Out"}}}

[2024-11-06 10:25:05,870] fluidos_model_orches [DEBUG   ] Solver already existing
[2024-11-06 10:25:06,375] fluidos_model_orches [INFO    ] Retrieving solver/mspl-intent-solver status
[2024-11-06 10:25:06,380] kubernetes.client.re [DEBUG   ] response body: {"apiVersion":"nodecore.fluidos.eu/v1alpha1","kind":"Solver","metadata":{"creationTimestamp":"2024-11-05T12:55:46Z","generation":1,"managedFields":[{"apiVersion":"nodecore.fluidos.eu/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{".":{},"f:findCandidate":{},"f:intentID":{},"f:reserveAndBuy":{},"f:selector":{".":{},"f:filters":{".":{},"f:architectureFilter":{".":{},"f:data":{".":{},"f:value":{}},"f:name":{}},"f:cpuFilter":{".":{},"f:data":{".":{},"f:min":{}},"f:name":{}},"f:memoryFilter":{".":{},"f:data":{".":{},"f:min":{}},"f:name":{}}},"f:flavorType":{}}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2024-11-05T12:55:46Z"},{"apiVersion":"nodecore.fluidos.eu/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:allocation":{},"f:contract":{},"f:credentials":{".":{},"f:clusterID":{},"f:clusterName":{},"f:endpoint":{},"f:token":{}},"f:findCandidate":{},"f:solverPhase":{".":{},"f:endTime":{},"f:lastChangeTime":{},"f:message":{},"f:phase":{}}}},"manager":"rear-manager","operation":"Update","subresource":"status","time":"2024-11-05T12:58:30Z"}],"name":"mspl-intent-solver","namespace":"fluidos","resourceVersion":"30911","uid":"f51e502d-582d-439d-9a42-1d2f3f6b80da"},"spec":{"findCandidate":true,"intentID":"mspl-intent","reserveAndBuy":false,"selector":{"filters":{"architectureFilter":{"data":{"value":"arm64"},"name":"Match"},"cpuFilter":{"data":{"min":"1m"},"name":"Range"},"memoryFilter":{"data":{"min":"1Mi"},"name":"Range"}},"flavorType":"K8Slice"}},"status":{"allocation":{},"contract":{},"credentials":{"clusterID":"","clusterName":"","endpoint":"","token":""},"findCandidate":"Running","solverPhase":{"endTime":"2024-11-05T12:58:30Z","lastChangeTime":"2024-11-05T12:58:30Z","message":"Solver has expired before finding a candidate","phase":"Timed Out"}}}

[2024-11-06 10:25:06,380] fluidos_model_orches [DEBUG   ] Received {"apiVersion": "nodecore.fluidos.eu/v1alpha1", "kind": "Solver", "metadata": {"creationTimestamp": "2024-11-05T12:55:46Z", "generation": 1, "managedFields": [{"apiVersion": "nodecore.fluidos.eu/v1alpha1", "fieldsType": "FieldsV1", "fieldsV1": {"f:spec": {".": {}, "f:findCandidate": {}, "f:intentID": {}, "f:reserveAndBuy": {}, "f:selector": {".": {}, "f:filters": {".": {}, "f:architectureFilter": {".": {}, "f:data": {".": {}, "f:value": {}}, "f:name": {}}, "f:cpuFilter": {".": {}, "f:data": {".": {}, "f:min": {}}, "f:name": {}}, "f:memoryFilter": {".": {}, "f:data": {".": {}, "f:min": {}}, "f:name": {}}}, "f:flavorType": {}}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2024-11-05T12:55:46Z"}, {"apiVersion": "nodecore.fluidos.eu/v1alpha1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {".": {}, "f:allocation": {}, "f:contract": {}, "f:credentials": {".": {}, "f:clusterID": {}, "f:clusterName": {}, "f:endpoint": {}, "f:token": {}}, "f:findCandidate": {}, "f:solverPhase": {".": {}, "f:endTime": {}, "f:lastChangeTime": {}, "f:message": {}, "f:phase": {}}}}, "manager": "rear-manager", "operation": "Update", "subresource": "status", "time": "2024-11-05T12:58:30Z"}], "name": "mspl-intent-solver", "namespace": "fluidos", "resourceVersion": "30911", "uid": "f51e502d-582d-439d-9a42-1d2f3f6b80da"}, "spec": {"findCandidate": true, "intentID": "mspl-intent", "reserveAndBuy": false, "selector": {"filters": {"architectureFilter": {"data": {"value": "arm64"}, "name": "Match"}, "cpuFilter": {"data": {"min": "1m"}, "name": "Range"}, "memoryFilter": {"data": {"min": "1Mi"}, "name": "Range"}}, "flavorType": "K8Slice"}}, "status": {"allocation": {}, "contract": {}, "credentials": {"clusterID": "", "clusterName": "", "endpoint": "", "token": ""}, "findCandidate": "Running", "solverPhase": {"endTime": "2024-11-05T12:58:30Z", "lastChangeTime": "2024-11-05T12:58:30Z", "message": "Solver has expired before finding a candidate", "phase": "Timed Out"}}}
[2024-11-06 10:25:06,381] fluidos_model_orches [INFO    ] Unable to find matching flavour
[2024-11-06 10:25:06,381] fluidos_model_orches [INFO    ] Found remote resource remote=[]
[2024-11-06 10:25:06,381] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] resources=[]
[2024-11-06 10:25:06,381] kopf.objects         [INFO    ] [fluidos/mspl-intent] Unable to find resource matching requirement
[2024-11-06 10:25:06,381] kopf.objects         [INFO    ] [fluidos/mspl-intent] Handler 'creation_handler' succeeded.
[2024-11-06 10:25:06,382] kopf.objects         [INFO    ] [fluidos/mspl-intent] Creation is processed: 1 succeeded; 0 failed.
[2024-11-06 10:25:06,383] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Patching with: {'status': {'creation_handler': {'status': 'Failure', 'msg': 'Unable to find resource matching requirement'}}, 'metadata': {'annotations': {'kopf.zalando.org/last-handled-configuration': '{"spec":{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"fluidos-intent-mspl":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"yes\\"?><ITResourceOrchestration xmlns=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" id=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\" xsi:schemaLocation=\\"http://modeliosoft/xsddesigner/a22bd60b-ee3d-425c-8618-beb6a854051a/ITResource.xsd mspl.xsd\\"><ITResource id=\\"mspl_9e9dbbdfad5d4ef588fc5ec579f83c59\\" orchestrationID=\\"omspl_5b0fd7359a5e40fe92399710c1152ed9\\"><configuration xsi:type=\\"RuleSetConfiguration\\"><capability><Name>Firewall</Name></capability><configurationRule><configurationRuleAction xsi:type=\\"FirewallRuleAction\\"><firewallActionType>DROP</firewallActionType></configurationRuleAction><configurationCondition xsi:type=\\"FirewallConfigurationCondition\\"><isCNF>false</isCNF><ruleParameters><isCNF>false</isCNF><destinationAddress>0.0.0.0/0</destinationAddress><action>drop</action><sourceAddress>192.168.0.1</sourceAddress><name>ejemplo2</name></ruleParameters></configurationCondition><externalData xsi:type=\\"Priority\\"><value>60000</value></externalData><Name>Rule0</Name><isCNF>false</isCNF></configurationRule><Name>Conf0</Name></configuration><enablerCandidates><enabler>firewall</enabler></enablerCandidates></ITResource></ITResourceOrchestration>","fluidos-intent-throughput":"100ms"},"name":"mspl-intent"},"spec":{"containers":[{"image":"nginx:1.14.2","name":"nginx","ports":[{"containerPort":80}]}]}}}\n'}}}
[2024-11-06 10:25:06,514] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Something has changed, but we are not interested (the essence is the same).
[2024-11-06 10:25:06,514] kopf.objects         [DEBUG   ] [fluidos/mspl-intent] Handling cycle is finished, waiting for new changes.
^C[2024-11-06 10:53:38,532] kopf._core.reactor.r [INFO    ] Signal SIGINT is received. Operator is stopping.
[2024-11-06 10:53:38,534] kopf._core.reactor.r [DEBUG   ] Credentials retriever is cancelled.
[2024-11-06 10:53:38,534] kopf._core.reactor.r [DEBUG   ] Admission validating configuration manager is cancelled.
[2024-11-06 10:53:38,538] kopf._cogs.clients.w [DEBUG   ] Stopping the watch-stream for customresourcedefinitions.v1.apiextensions.k8s.io cluster-wide.
[2024-11-06 10:53:38,538] kopf._core.reactor.r [DEBUG   ] Poster of events is cancelled.
[2024-11-06 10:53:38,539] kopf._core.reactor.r [DEBUG   ] Admission mutating configuration manager is cancelled.
[2024-11-06 10:53:38,540] kopf._core.reactor.r [DEBUG   ] Namespace observer is cancelled.
[2024-11-06 10:53:38,540] kopf._core.reactor.r [DEBUG   ] Admission insights chain is cancelled.
[2024-11-06 10:53:38,540] kopf._core.reactor.r [DEBUG   ] Admission webhook server is cancelled.
[2024-11-06 10:53:38,542] kopf._cogs.clients.w [DEBUG   ] Stopping the watch-stream for fluidosdeployments.v1.fluidos.eu cluster-wide.
[2024-11-06 10:53:38,543] kopf._core.reactor.r [DEBUG   ] Daemon killer is cancelled.
[2024-11-06 10:53:38,544] kopf._core.reactor.r [DEBUG   ] Resource observer is cancelled.
[2024-11-06 10:53:38,545] kopf._core.reactor.o [DEBUG   ] Streaming tasks are stopped: finishing normally; tasks left: set()
[2024-11-06 10:53:38,545] kopf._core.reactor.r [DEBUG   ] Multidimensional multitasker is cancelled.
[2024-11-06 10:53:38,549] kopf.activities.clea [DEBUG   ] Activity 'cleanup_function' is invoked.
[2024-11-06 10:53:38,552] kopf.activities.clea [INFO    ] Running clean up functionality
{'param': None, 'retry': 0, 'started': datetime.datetime(2024, 11, 6, 10, 53, 38, 547745, tzinfo=datetime.timezone.utc), 'runtime': datetime.timedelta(microseconds=2353), 'memo': {}, 'activity': <Activity.CLEANUP: 'cleanup'>, 'settings': OperatorSettings(process=ProcessSettings(ultimate_exiting_timeout=600), posting=PostingSettings(enabled=True, level=20, reporting_component='kopf', reporting_instance='dev', event_name_prefix='kopf-event-'), peering=PeeringSettings(name='default', stealth=False, priority=0, lifetime=60, mandatory=False, standalone=False, clusterwide=True), watching=WatchingSettings(server_timeout=None, client_timeout=None, connect_timeout=None, reconnect_backoff=0.1), batching=BatchingSettings(worker_limit=None, idle_timeout=5.0, batch_window=0.1, exit_timeout=2.0, error_delays=(1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610)), scanning=ScanningSettings(disabled=False), admission=AdmissionSettings(server=None, managed=None), execution=ExecutionSettings(executor=<concurrent.futures.thread.ThreadPoolExecutor object at 0x16951f8d0>, _max_workers=None), background=BackgroundSettings(cancellation_polling=60, instant_exit_timeout=None, instant_exit_zero_time_cycles=10), networking=NetworkingSettings(request_timeout=300, connect_timeout=None, error_backoffs=(1, 1, 2, 3, 5, 8, 13, 21)), persistence=PersistenceSettings(finalizer='kopf.zalando.org/KopfFinalizerMarker', progress_storage=<kopf._cogs.configs.progress.SmartProgressStorage object at 0x16d48f0d0>, diffbase_storage=<kopf._cogs.configs.diffbase.AnnotationsDiffBaseStorage object at 0x16d48f150>))}
[2024-11-06 10:53:38,555] kopf.activities.clea [INFO    ] Activity 'cleanup_function' succeeded.
[2024-11-06 10:53:38,558] kopf._core.reactor.r [DEBUG   ] Root tasks are stopped: finishing normally; tasks left: set()
[2024-11-06 10:53:38,558] kopf._core.reactor.r [DEBUG   ] Hung tasks stopping is skipped: no tasks given.
